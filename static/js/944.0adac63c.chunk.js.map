{"version":3,"file":"static/js/944.0adac63c.chunk.js","mappings":"+MA2EMA,GAAiBC,EAAAA,EAAAA,GAA2C,CACjEC,KAAM,SADgBD,EArBP,SAACE,GAChB,IAAQC,EAA0DD,EAA1DC,SAAUC,EAAgDF,EAAhDE,WAAYC,EAAoCH,EAApCG,MAAOC,EAA6BJ,EAA7BI,aAAcC,EAAeL,EAAfK,WAEnD,OACC,kBAAMC,SAAUF,EAAhB,WAEEG,EAAAA,EAAAA,IAA8B,QAAS,QAAS,CAACC,EAAAA,IAAWC,EAAAA,GAAO,CAAEC,KAAM,UAC3EH,EAAAA,EAAAA,IAA8B,WAAY,WAAY,CAACC,EAAAA,IAAWC,EAAAA,GAAO,CAAEC,KAAM,cACjFH,EAAAA,EAAAA,IAA8B,KAAM,aAAc,GAAIE,EAAAA,GAAO,CAAEC,KAAM,YAAc,cACnFV,EAAMW,QAAS,gBAAKC,UAAWC,EAAAA,EAAAA,iBAAhB,SAAqCb,EAAMW,QAC1DN,IAAc,gBAAKS,IAAI,UAAUC,IAAKV,IACtCA,IAAcE,EAAAA,EAAAA,IAA8B,UAAW,UAAW,CAACC,EAAAA,IAAWC,EAAAA,GAAO,CAAEC,KAAM,UAC9F,mBAAQA,KAAK,SAASM,SAAUf,GAAYC,EAA5C,qBACA,mBAAQQ,KAAK,SAASM,SAAUf,GAAYC,EAAYe,QAASd,EAAjE,gCA4BH,WAAee,EAAAA,EAAAA,KAPS,SAACC,GACxB,MAAO,CACNC,OAAQD,EAAME,KAAKD,OACnBf,WAAYc,EAAME,KAAKhB,cAIe,CAAEiB,QAAAA,EAAAA,IAA1C,EAtEc,SAACtB,GAOd,OAAIA,EAAMoB,QACF,SAAC,KAAD,CAAUG,GAAG,cAIpB,4BACC,mCACA,qLACC,cAAGC,KAAM,wCACRC,OAAQ,SADT,iDAID,kTACA,sDACA,2CACA,SAAC5B,EAAD,CAAgBS,SApBD,SAACoB,GAEjB1B,EAAMsB,QAAQI,IAkBuBrB,WAAYL,EAAMK,oB,sMClCnDsB,EACF,SAAC,GAAgE,IAA/DC,EAA8D,EAA9DA,YAAaC,EAAiD,EAAjDA,MAAiD,IAA1CC,KAAOC,EAAmC,EAAnCA,QAASpB,EAA0B,EAA1BA,MAAWqB,GAAe,YAC1DC,EAAUC,EAAAA,cAAoBN,GAApB,kBAAqCC,GAAUG,IACzDG,EAAWJ,GAAWpB,EAC5B,OACI,iBAAKC,UAAWC,EAAAA,EAAAA,YAAgB,KAAOsB,EAAWtB,EAAAA,EAAAA,MAAU,IAA5D,WACI,yBACKoB,IAEJE,IAAY,0BAAOxB,QAKnByB,EAAwC,SAACpC,GAAD,OAAW,SAAC2B,GAAD,QAAaC,YAAa,YAAgB5B,KAE7FS,EAAqC,SAACT,GAAD,OAAW,SAAC2B,GAAD,QAAaC,YAAa,SAAa5B,KAE7F,SAASO,EAAqC8B,EACzBC,EACAC,EACAC,GAEa,IADbxC,EACY,uDADC,GACbyC,EAAY,uDAAL,GAC/B,OAAO,4BAEH,SAAC,KAAD,QACIJ,YAAaA,EACbC,KAAMA,EACNI,SAAUH,EACVC,UAAWA,GACPxC,IACLyC,O,sGC5CJ,IAAMjC,EAAW,SAACmC,GACrB,IAAIA,EACJ,MAAO,qBAGEC,EAAoB,SAACC,GAAD,OAAiB,SAACF,GAC/C,GAAIA,GAAUA,EAAOG,OAASD,EAAK,MAAM,cAAN,OAAqBA,EAArB,cAI1BE,EAAcH,EAAkB,K,mBCV7C,KAAgB,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB","sources":["components/Login/Login.tsx","components/common/FormsControls/FormsControls.tsx","utils/validators.ts","webpack://samurai-way/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["import React from \"react\";\r\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { loginTC } from \"../../redux/auth-reducer\";\r\nimport { connect } from \"react-redux\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\r\nimport { required } from \"../../utils/validators\";\r\nimport s from '../common/FormsControls/FormsControls.module.css'\r\n\r\nexport type formDataType = {\r\n\temail: string\r\n\tpassword: string\r\n\trememberMe: boolean\r\n\tcaptcha?: string\r\n}\r\n\r\ntype FormDataTypeKeys = keyof formDataType\r\n\r\ntype formDataPropsType = {\r\n\tcaptchaUrl: string | null\r\n}\r\n\r\ntype LoginPropsType = mapDispatchToPropsType & mapStateToPropsType\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n\r\n\tconst onSubmit = (formData: formDataType) => {\r\n\t\t// console.log(formData)\r\n\t\tprops.loginTC(formData)\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to='/profile' />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>LOGIN</h1>\r\n\t\t\t<p>Для входа зарегистрируйтесь\r\n\t\t\t\t<a href={'https://social-network.samuraijs.com/'}\r\n\t\t\t\t\ttarget={'_blank'}> здесь\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\t\t\t<p>или используйте общие данные для тестового аккаунта:</p>\r\n\t\t\t<p>Email: free@samuraijs.com</p>\r\n\t\t\t<p>Password: free</p>\r\n\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n\t\t</div>\r\n\r\n\t)\r\n\r\n}\r\n\r\nlet LoginForm = (props: InjectedFormProps<formDataType, formDataPropsType> & formDataPropsType) => {\r\n\tconst { pristine, submitting, reset, handleSubmit, captchaUrl } = props\r\n\t// debugger\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\r\n\t\t\t{createField<FormDataTypeKeys>('Email', 'email', [required], Input, { type: 'text' })}\r\n\t\t\t{createField<FormDataTypeKeys>('Password', 'password', [required], Input, { type: 'password' })}\r\n\t\t\t{createField<FormDataTypeKeys>(null, 'rememberMe', [], Input, { type: 'checkbox' }, 'rememberMe')}\r\n\t\t\t{props.error && <div className={s.formSummaryError}>{props.error}</div>}\r\n\t\t\t{captchaUrl && <img alt='captcha' src={captchaUrl} />}\r\n\t\t\t{captchaUrl && createField<FormDataTypeKeys>('Captcha', 'captcha', [required], Input, { type: 'text' })}\r\n\t\t\t<button type=\"submit\" disabled={pristine || submitting}>Submit</button>\r\n\t\t\t<button type=\"button\" disabled={pristine || submitting} onClick={reset}>\r\n\t\t\t\tClear Values\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<formDataType, formDataPropsType>({\r\n\tform: 'login'\r\n})(LoginForm)\r\n\r\ntype mapDispatchToPropsType = {\r\n\tloginTC: (data: formDataType) => void\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n\tisAuth: boolean\r\n\tcaptchaUrl: string | null\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tcaptchaUrl: state.auth.captchaUrl\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginTC })(Login)","import s from './FormsControls.module.css'\r\nimport React from \"react\"\r\nimport {Field} from \"redux-form\"\r\nimport {WrappedFieldProps} from \"redux-form/lib/Field\"\r\n\r\n\r\ntype OwnPropsType = {elementType: string}\r\n// interface FormControlPropsType extends WrappedFieldProps {\r\n//     elementType: string\r\n// }\r\n\r\ntype FormControlPropsType = WrappedFieldProps & OwnPropsType\r\n\r\nconst FormControl: React.FC<FormControlPropsType> =\r\n    ({elementType, input, meta: {touched, error}, ...restProps}) => {\r\n    const element = React.createElement(elementType, {...input, ...restProps})\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {element}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n// WrappedFieldProps\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => <FormControl elementType={'textarea'} {...props} />\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => <FormControl elementType={'input'} {...props} />\r\n\r\nexport function createField<KeysType extends string>(placeholder: string | null,\r\n                            name: KeysType,\r\n                            validators: Array<(values: string) => string | undefined> | [],\r\n                            component: React.FC<WrappedFieldProps>,\r\n                            props: any = {},\r\n                            text = '')  {\r\n    return <div>\r\n        {/*<label htmlFor={name}>{name}</label>*/}\r\n        <Field\r\n            placeholder={placeholder}\r\n            name={name}\r\n            validate={validators}\r\n            component={component}\r\n            {...props}\r\n        />{text}\r\n    </div>\r\n}\r\n\r\n// Argument of type '(props: FormControlPropsType) => JSX.Element' is not assignable to parameter of type 'string | ComponentType<{}> | FC<{}>'.\r\n// Type '(props: FormControlPropsType) => JSX.Element' is not assignable to type 'FunctionComponent<{}>'.\r\n// Types of parameters 'props' and 'props' are incompatible.\r\n// Type '{ children?: ReactNode; }' is missing the following properties from type 'FormControlPropsType': input, meta, props","\r\nexport const required = (values: string) => {\r\n    if (values) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreators = (max: number) => (values: string) => {\r\n    if (values && values.length > max) return `Max length ${max} symbols`\r\n    return undefined\r\n}\r\n\r\nexport const maxLength10 = maxLengthCreators(10)","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__9dO81\",\"error\":\"FormsControls_error__6ogPg\",\"formSummaryError\":\"FormsControls_formSummaryError__WMr+S\"};"],"names":["LoginReduxForm","reduxForm","form","props","pristine","submitting","reset","handleSubmit","captchaUrl","onSubmit","createField","required","Input","type","error","className","s","alt","src","disabled","onClick","connect","state","isAuth","auth","loginTC","to","href","target","formData","FormControl","elementType","input","meta","touched","restProps","element","React","hasError","Textarea","placeholder","name","validators","component","text","validate","values","maxLengthCreators","max","length","maxLength10"],"sourceRoot":""}